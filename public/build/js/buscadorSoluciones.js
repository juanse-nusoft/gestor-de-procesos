document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("division"),n=document.getElementById("categoria"),o=null!==e,a=e=>{if(n.innerHTML='<option value="">Todas las categorías</option>',o){n.disabled=!0;const e=document.createElement("option");e.value="",e.textContent="Cargando...",n.appendChild(e)}e?fetch(`/dashboard/soluciones/get-categorias?division_id=${e}`).then((e=>e.json())).then((e=>{n.innerHTML='<option value="">Todas las categorías</option>',e.forEach((e=>{const o=new Option(e.nombre,e.id);n.add(o)})),new URLSearchParams(window.location.search).has("categoria")&&(n.value=new URLSearchParams(window.location.search).get("categoria"))})).catch((e=>{console.error("Error:",e),n.innerHTML='<option value="">Error al cargar</option>'})).finally((()=>{o&&(n.disabled=!1)})):o&&(n.disabled=!1)};if(o)e.addEventListener("change",(function(){a(this.value)})),e.value&&a(e.value);else{const e=document.querySelector('input[name="division"]')?.value;e&&a(e)}}));
document.addEventListener("DOMContentLoaded",(function(){document.getElementById("campo-contrasena");const e=document.getElementById("formulario"),t=document.getElementById("toggle-password");e.addEventListener("submit",(function(o){o.preventDefault();const n=new FormData(e);t.classList.contains("active")||n.delete("nueva_contrasena"),fetch("/dashboard/usuarios/perfil",{method:"POST",body:n}).then((e=>e.json())).then((e=>{e.success?Swal.fire({icon:"success",title:"Actualizado",text:"Tu perfil ha sido actualizado correctamente",timer:2e3,showConfirmButton:!1}):Swal.fire({icon:"error",title:"Error",text:e.message||"Hubo un problema al actualizar los datos"})})).catch((e=>{console.error("Error:",e),Swal.fire({icon:"error",title:"Error de conexi√≥n",text:"No se pudo conectar con el servidor"})}))}))}));